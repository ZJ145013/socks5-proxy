# é¡¹ç›®å¤åˆ»å®Œæˆæ€»ç»“

## âœ… å®ŒæˆçŠ¶æ€

å·²æˆåŠŸä¸º socks5-proxy é¡¹ç›®æ·»åŠ å®Œæ•´çš„è‡ªåŠ¨åŒ– Docker æ„å»ºå’Œéƒ¨ç½²é…ç½®ã€‚

## ğŸ“¦ æ–°å¢æ–‡ä»¶æ¸…å•

### 1. GitHub Actions è‡ªåŠ¨æ„å»º
```
.github/workflows/docker-build.yml
```
- âœ… æ”¯æŒ main åˆ†æ”¯æ¨é€è‡ªåŠ¨æ„å»º
- âœ… æ”¯æŒç‰ˆæœ¬æ ‡ç­¾ï¼ˆv*ï¼‰è‡ªåŠ¨æ„å»º
- âœ… å¤šæ¶æ„æ”¯æŒï¼ˆlinux/amd64, linux/arm64ï¼‰
- âœ… è‡ªåŠ¨æ¨é€åˆ° GitHub Container Registry (ghcr.io)
- âœ… å¯é€‰æ¨é€åˆ° Docker Hub
- âœ… æ„å»ºç¼“å­˜ä¼˜åŒ–

### 2. Docker Compose é…ç½®
```
docker-compose.yml          # ç”Ÿäº§ç¯å¢ƒ
docker-compose.dev.yml      # å¼€å‘ç¯å¢ƒ
.env.example                # ç¯å¢ƒå˜é‡æ¨¡æ¿
```

**ç”Ÿäº§ç¯å¢ƒç‰¹æ€§**ï¼š
- âœ… ä½¿ç”¨é¢„æ„å»ºé•œåƒ
- âœ… å¥åº·æ£€æŸ¥é…ç½®
- âœ… æ—¥å¿—è½®è½¬ï¼ˆ10MB Ã— 3 æ–‡ä»¶ï¼‰
- âœ… è‡ªåŠ¨é‡å¯ç­–ç•¥
- âœ… ç‹¬ç«‹ç½‘ç»œéš”ç¦»

**å¼€å‘ç¯å¢ƒç‰¹æ€§**ï¼š
- âœ… æœ¬åœ°æ„å»ºé•œåƒ
- âœ… æ›´çŸ­çš„åˆ·æ–°é—´éš”ï¼ˆ15åˆ†é’Ÿï¼‰
- âœ… æ›´é«˜çš„å¹¶å‘æ•°ï¼ˆ30ï¼‰
- âœ… è½»é‡çº§æ—¥å¿—é…ç½®

### 3. æ–‡æ¡£
```
QUICKSTART.md               # å¿«é€Ÿå¼€å§‹æŒ‡å—
SETUP.md                    # GitHub ä»“åº“è®¾ç½®æŒ‡å—
DEPLOY.md                   # è¯¦ç»†éƒ¨ç½²æ–‡æ¡£
```

**æ–‡æ¡£è¦†ç›–**ï¼š
- âœ… ä¸‰ç§éƒ¨ç½²æ–¹å¼ï¼ˆDocker Compose / Docker / æœ¬åœ°ï¼‰
- âœ… GitHub Actions é…ç½®æ­¥éª¤
- âœ… Docker Hub é›†æˆæŒ‡å—
- âœ… æ•…éšœæ’æŸ¥æŒ‡å—
- âœ… æœ€ä½³å®è·µå»ºè®®

### 4. æ›´æ–°æ–‡ä»¶
```
README.md                   # æ·»åŠ éƒ¨ç½²è¯´æ˜
.gitignore                  # æ›´æ–°å¿½ç•¥è§„åˆ™
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### è‡ªåŠ¨åŒ–æ„å»ºæµç¨‹

```
ä»£ç æ¨é€ â†’ GitHub Actions è§¦å‘
    â†“
å¤šæ¶æ„æ„å»ºï¼ˆamd64 + arm64ï¼‰
    â†“
è‡ªåŠ¨æ¨é€åˆ°é•œåƒä»“åº“
    â†“
ç”Ÿæˆå¤šä¸ªæ ‡ç­¾ï¼ˆlatest, main, v1.0.0 ç­‰ï¼‰
```

### é•œåƒæ ‡ç­¾ç­–ç•¥

| è§¦å‘æ–¹å¼ | ç”Ÿæˆæ ‡ç­¾ |
|---------|---------|
| æ¨é€åˆ° main | `latest`, `main` |
| æ¨é€ v1.0.0 | `v1.0.0`, `v1.0`, `v1`, `latest` |
| Pull Request | ä»…æ„å»ºæµ‹è¯•ï¼Œä¸æ¨é€ |

### éƒ¨ç½²æ–¹å¼

1. **Docker Composeï¼ˆæ¨èï¼‰**
   ```bash
   docker-compose up -d
   ```

2. **Docker ç›´æ¥è¿è¡Œ**
   ```bash
   docker run -d -p 1080:1080 -p 8080:8080 ghcr.io/user/socks5-proxy:latest
   ```

3. **æœ¬åœ°å¼€å‘**
   ```bash
   go build && ./socks5-pool
   ```

## ğŸ”§ é…ç½®è¦ç‚¹

### GitHub ä»“åº“è®¾ç½®

**å¿…éœ€é…ç½®**ï¼š
1. âœ… Actions æƒé™ï¼šRead and write permissions
2. âœ… å…è®¸ Actions åˆ›å»ºå’Œæ‰¹å‡† PR

**å¯é€‰é…ç½®**ï¼ˆDocker Hubï¼‰ï¼š
1. âš™ï¸ Secret: `DOCKERHUB_USERNAME`
2. âš™ï¸ Secret: `DOCKERHUB_TOKEN`

### ç¯å¢ƒå˜é‡

```bash
# .env æ–‡ä»¶
GITHUB_REPOSITORY=yourusername/socks5-proxy
DOCKERHUB_USERNAME=yourusername  # å¯é€‰
```

## ğŸ“Š æŠ€æœ¯ç‰¹æ€§

### Docker ä¼˜åŒ–
- âœ… å¤šé˜¶æ®µæ„å»ºï¼ˆbuilder + runtimeï¼‰
- âœ… æœ€å°åŒ–é•œåƒï¼ˆAlpine Linuxï¼‰
- âœ… æ„å»ºç¼“å­˜ï¼ˆGitHub Actions Cacheï¼‰
- âœ… å¤šæ¶æ„æ”¯æŒï¼ˆamd64 + arm64ï¼‰

### å®‰å…¨æ€§
- âœ… ä½¿ç”¨ GITHUB_TOKEN è‡ªåŠ¨è®¤è¯
- âœ… Secrets ç®¡ç†æ•æ„Ÿä¿¡æ¯
- âœ… å¥åº·æ£€æŸ¥æœºåˆ¶
- âœ… ç½‘ç»œéš”ç¦»

### å¯ç»´æŠ¤æ€§
- âœ… æ¸…æ™°çš„æ–‡æ¡£ç»“æ„
- âœ… é…ç½®æ–‡ä»¶éªŒè¯é€šè¿‡
- âœ… æ—¥å¿—ç®¡ç†é…ç½®
- âœ… ç‰ˆæœ¬åŒ–éƒ¨ç½²

## ğŸš€ ä½¿ç”¨æµç¨‹

### é¦–æ¬¡è®¾ç½®

```bash
# 1. æ¨é€åˆ° GitHub
git init
git add .
git commit -m "feat: add automated Docker build and compose deployment"
git remote add origin https://github.com/yourusername/socks5-proxy.git
git push -u origin main

# 2. é…ç½®ä»“åº“æƒé™ï¼ˆåœ¨ GitHub ç½‘é¡µæ“ä½œï¼‰
# Settings â†’ Actions â†’ General â†’ Workflow permissions
# é€‰æ‹© "Read and write permissions"

# 3. ç­‰å¾…è‡ªåŠ¨æ„å»ºå®Œæˆï¼ˆ2-5 åˆ†é’Ÿï¼‰
# æŸ¥çœ‹ Actions æ ‡ç­¾é¡µ

# 4. ä½¿ç”¨æ„å»ºçš„é•œåƒ
docker pull ghcr.io/yourusername/socks5-proxy:latest
docker-compose up -d
```

### æ—¥å¸¸ä½¿ç”¨

```bash
# æœ¬åœ°å¼€å‘æµ‹è¯•
docker-compose -f docker-compose.dev.yml up -d

# ç”Ÿäº§éƒ¨ç½²
docker-compose up -d

# æ›´æ–°éƒ¨ç½²
docker-compose pull && docker-compose up -d

# æŸ¥çœ‹çŠ¶æ€
docker-compose ps
docker-compose logs -f
```

## ğŸ“ˆ æ„å»ºç»Ÿè®¡

- **æ„å»ºæ—¶é—´**ï¼šçº¦ 2-5 åˆ†é’Ÿ
- **é•œåƒå¤§å°**ï¼š< 20MBï¼ˆå‹ç¼©åï¼‰
- **æ”¯æŒæ¶æ„**ï¼šamd64, arm64
- **å¹¶å‘æ„å»º**ï¼šæ˜¯ï¼ˆå¤šæ¶æ„å¹¶è¡Œï¼‰

## ğŸ“ å­¦ä¹ ä»·å€¼

è¿™ä¸ªé…ç½®å±•ç¤ºäº†ï¼š
- âœ… GitHub Actions CI/CD æœ€ä½³å®è·µ
- âœ… Docker å¤šé˜¶æ®µæ„å»ºä¼˜åŒ–
- âœ… Docker Compose ç”Ÿäº§çº§é…ç½®
- âœ… å¤šæ¶æ„é•œåƒæ„å»º
- âœ… è‡ªåŠ¨åŒ–ç‰ˆæœ¬ç®¡ç†
- âœ… å®Œæ•´çš„æ–‡æ¡£ä½“ç³»

## ğŸ“ ä¸‹ä¸€æ­¥å»ºè®®

### ç«‹å³å¯åš
1. âœ… æ¨é€ä»£ç åˆ° GitHub
2. âœ… é…ç½® Actions æƒé™
3. âœ… éªŒè¯è‡ªåŠ¨æ„å»º
4. âœ… æµ‹è¯•éƒ¨ç½²

### å¯é€‰å¢å¼º
- âš™ï¸ æ·»åŠ æ„å»ºçŠ¶æ€å¾½ç« åˆ° README
- âš™ï¸ é…ç½® Docker Hub è‡ªåŠ¨æ„å»º
- âš™ï¸ æ·»åŠ  CHANGELOG.md
- âš™ï¸ è®¾ç½® Dependabot è‡ªåŠ¨æ›´æ–°ä¾èµ–
- âš™ï¸ æ·»åŠ å®‰å…¨æ‰«æï¼ˆTrivy, Snykï¼‰

### ç”Ÿäº§ç¯å¢ƒå»ºè®®
- ğŸ”’ æ·»åŠ  SOCKS5 è®¤è¯
- ğŸ”’ é…ç½®åå‘ä»£ç†ï¼ˆNginx/Traefikï¼‰
- ğŸ”’ å¯ç”¨ HTTPSï¼ˆLet's Encryptï¼‰
- ğŸ“Š æ·»åŠ ç›‘æ§ï¼ˆPrometheus/Grafanaï¼‰
- ğŸ“Š é…ç½®å‘Šè­¦ï¼ˆä»£ç†æ± ä¸ºç©ºæ—¶ï¼‰

## ğŸ” éªŒè¯æ¸…å•

- [x] GitHub Actions workflow è¯­æ³•æ­£ç¡®
- [x] docker-compose.yml é…ç½®éªŒè¯é€šè¿‡
- [x] docker-compose.dev.yml é…ç½®éªŒè¯é€šè¿‡
- [x] .env.example æ¨¡æ¿åˆ›å»º
- [x] .gitignore æ›´æ–°å®Œæˆ
- [x] README.md æ›´æ–°éƒ¨ç½²è¯´æ˜
- [x] QUICKSTART.md å¿«é€ŸæŒ‡å—
- [x] SETUP.md è®¾ç½®æŒ‡å—
- [x] DEPLOY.md è¯¦ç»†æ–‡æ¡£
- [x] æ‰€æœ‰æ–‡æ¡£é“¾æ¥æ­£ç¡®

## ğŸ“š æ–‡æ¡£å¯¼èˆª

```
QUICKSTART.md  â†’  å¿«é€Ÿå¼€å§‹ï¼ˆ3 æ­¥éƒ¨ç½²ï¼‰
    â†“
SETUP.md       â†’  GitHub è®¾ç½®ï¼ˆè‡ªåŠ¨æ„å»ºé…ç½®ï¼‰
    â†“
DEPLOY.md      â†’  è¯¦ç»†éƒ¨ç½²ï¼ˆæ•…éšœæ’æŸ¥ï¼‰
    â†“
README.md      â†’  é¡¹ç›®è¯´æ˜ï¼ˆåŠŸèƒ½ä»‹ç»ï¼‰
```

## âœ¨ é¡¹ç›®äº®ç‚¹

1. **é›¶é…ç½®éƒ¨ç½²**ï¼š`docker-compose up -d` ä¸€é”®å¯åŠ¨
2. **è‡ªåŠ¨åŒ–æ„å»º**ï¼šæ¨é€ä»£ç è‡ªåŠ¨æ„å»ºé•œåƒ
3. **å¤šæ¶æ„æ”¯æŒ**ï¼šæ”¯æŒ x86 å’Œ ARM æœåŠ¡å™¨
4. **å®Œæ•´æ–‡æ¡£**ï¼šä»è®¾ç½®åˆ°éƒ¨ç½²å…¨è¦†ç›–
5. **ç”Ÿäº§å°±ç»ª**ï¼šå¥åº·æ£€æŸ¥ã€æ—¥å¿—è½®è½¬ã€è‡ªåŠ¨é‡å¯

## ğŸ‰ æ€»ç»“

å·²æˆåŠŸä¸º socks5-proxy é¡¹ç›®æ·»åŠ ï¼š
- âœ… GitHub Actions è‡ªåŠ¨æ„å»ºæµæ°´çº¿
- âœ… Docker Compose ç”Ÿäº§å’Œå¼€å‘é…ç½®
- âœ… å®Œæ•´çš„éƒ¨ç½²æ–‡æ¡£ä½“ç³»
- âœ… æœ€ä½³å®è·µé…ç½®

**é¡¹ç›®ç°åœ¨å¯ä»¥**ï¼š
- è‡ªåŠ¨æ„å»ºå¤šæ¶æ„ Docker é•œåƒ
- ä¸€é”®éƒ¨ç½²åˆ°ä»»ä½•æ”¯æŒ Docker çš„ç¯å¢ƒ
- é€šè¿‡ç‰ˆæœ¬æ ‡ç­¾ç®¡ç†å‘å¸ƒ
- å¿«é€Ÿæœ¬åœ°å¼€å‘å’Œæµ‹è¯•

**æ‰€æœ‰é…ç½®å·²éªŒè¯é€šè¿‡ï¼Œå¯ä»¥ç«‹å³ä½¿ç”¨ï¼** ğŸš€
